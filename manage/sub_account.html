<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<script src="../js/mui.min.js"></script>
		<link href="../css/mui.min.css" rel="stylesheet" />
		<script type="text/javascript" charset="utf-8">
			mui.init();
		</script>
		<style>
			/*跨webview需要手动指定位置*/
			
			#subAccountPopover {
				position: fixed;
				top: 16px;
				right: 6px;
			}
			#subAccountPopover .mui-popover-arrow {
				left: auto;
				right: 6px;
			}
			p {
				text-indent: 22px;
			}
			span.mui-icon {
				font-size: 14px;
				color: #007aff;
				margin-left: -15px;
				padding-right: 10px;
			}
			/* 如下大小为三行popover弹出 菜单大小，可以根据实际大小调整 */
			
			.mui-popover {
				height: 100px;
				width: 200px;
			}
		</style>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left" ></a>
			<h1 class="mui-title">子账号管理</h1>
			<a id="menu" class="mui-icon mui-icon-bars mui-pull-right" href="#subAccountPopover"></a>
		</header>
		<div id="subAccountList" class="mui-content">
			<h4>索问主账号：15910816978</h4>
			<h4>主账号昵称：北京聚福天下商贸有限公司</h4>
			<h5>默认搜索框：</h5>
			<div class="mui-input-row mui-search">
				<input type="search" class="mui-input-clear" placeholder="">
			</div>

			<div class="mui-h5">
				管理
			</div>
			<ul class="mui-table-view">
				<li class="mui-table-view-cell">
					<a class="mui-navigate-right" href="../partners/partner_detail.html">
						张三
					</a>
				</li>
				<li class="mui-table-view-cell">
					<a class="mui-navigate-right" href="../partners/partner_detail.html">
						李四
					</a>
				</li>

			</ul>
			<div class="mui-h5">
				财务
			</div>
			<ul class="mui-table-view">
				<li class="mui-table-view-cell">
					<a class="mui-navigate-right" href="../partners/partner_detail.html">
						王五
					</a>
				</li>

			</ul>
			<div class="mui-h5">
				仓储
			</div>
			<ul class="mui-table-view">
				<li class="mui-table-view-cell">
					<a class="mui-navigate-right" href="../partners/partner_detail.html">
						赵六
					</a>
				</li>
				<li class="mui-table-view-cell">
					<a class="mui-navigate-right" href="../partners/partner_detail.html">
						孙七
					</a>
				</li>
			</ul>
			<div class="mui-h5">
				无岗位
			</div>
			<ul class="mui-table-view">
				<li class="mui-table-view-cell">
					<a class="mui-navigate-right" href="../partners/partner_detail.html">
						张三三
					</a>
				</li>
				<li class="mui-table-view-cell">
					<a class="mui-navigate-right" href="../partners/partner_detail.html">
						李四四
					</a>
				</li>
			</ul>
		</div>

		<!-- ---------------右上角弹出菜单---------------------------->
		<div id="subAccountPopover" class="mui-popover">
			<div class="mui-popover-arrow"></div>
			<div class="mui-scroll-wrapper">
				<div class="mui-scroll">
					<ul class="mui-table-view">
						<li class="mui-table-view-cell">
							<a href="../partners/add_partner.html">新建子账号</a>
						</li>
						<li class="mui-table-view-cell"><a href="#">分配岗位</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<!-- ---------------右上角弹出菜单---------------------------->
	</body>
	<script>
		 //定义动画效果。
		var aniShow = "pop-in";
		 //只有ios支持的功能需要在Android平台隐藏；
		if (mui.os.android) {
			var list = document.querySelectorAll('.ios-only');
			if (list) {
				for (var i = 0; i < list.length; i++) {
					list[i].style.display = 'none';
				}
			}
			//Android平台暂时使用slide-in-right动画
			aniShow = "slide-in-right"
		}
	</script>
	<script>
		 ///////////////////////popover菜单的事件处理函数
		mui('.mui-scroll-wrapper').scroll();
		 //下列的shown 和 hidden 会随菜单的开和关自动触发
		mui('body').on('shown', '.mui-popover', function(e) {
			console.log('shown', e.detail.id); //detail为当前popover元素
		});
		mui('body').on('hidden', '.mui-popover', function(e) {
			console.log('hidden', e.detail.id); //detail为当前popover元素
		});
		mui(".mui-navigate-right").on('tap', 'a', function() {
			console.log("click in mui navigate right " + this.innerText);
		});
		mui("#subAccountPopover").on('tap', 'a', function() {
			console.log(this.innerText);
			var id = this.getAttribute('href');
			mui.openWindow({
				id: id,
				url: this.href,
				show: {
					aniShow: aniShow
				},
				styles: {
					popGesture: "close"
				},
				waiting: {
					autoShow: true, //自动显示等待框，默认为true
					title: '正在加载...', //等待对话框上显示的提示内容
				}
			});
			//传入toggle参数，用户也无需关心当前是显示还是隐藏状态，mui会自动识别处理；
			mui('.mui-popover').popover('toggle');
		});
		 ///////////////////////popover菜单的事件处理函数
	</script>

</html>