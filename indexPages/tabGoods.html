<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<script src="../js/mui.min.js"></script>
		<link href="../css/mui.min.css" rel="stylesheet" />
		<script type="text/javascript" charset="utf-8">
			mui.init();
		</script>
		<style>
			#goodsList {
				margin-top: 20px;
			}
			#TopPopover {
				position: fixed;
				top: 16px;
				right: 6px;
			}
			#TopPopover .mui-popover-arrow {
				left: auto;
				right: 6px;
			}
			p {
				text-indent: 22px;
			}
			/*
			 * 这个需要注释掉，会影响，tab下面文字的位置。
			span.mui-icon {
				font-size: 14px;
				color: #007aff;
				margin-left: -15px;
				padding-right: 10px;
			}*/
			
			.mui-popover {
				height: 300px;
			}
			.mui-backdrop {
				position: fixed;
				top: 0;
				right: 0;
				bottom: 0;
				left: 0;
				z-index: 998;
				/*如下语句是调整popover菜单蒙版遮罩的明暗度*/
				
				background-color: rgba(0, 0, 0, 0.05);
			}
		</style>
	</head>

	<body>
		<div id="goodsListDiv" class="mui-content">
			<h4 align="center">北京聚福天下商贸有限公司</h4>
			<h5>默认搜索框：</h5>
			<div class="mui-input-row mui-search">
				<input type="search" class="mui-input-clear" placeholder="">
			</div>
			<ul class="mui-table-view">
				<li class="mui-table-view-cell">
					<a class="mui-navigate-right" href="../manage/goods_add.html">
						新建货物
					</a>
				</li>
			</ul>
			<ul id="goodsList" class="mui-table-view mui-table-view-striped mui-table-view-condensed">

				<li class="mui-table-view-cell ">
					<a class="mui-navigate-right" href="../manage/goods_in_out.html">
						<div class="mui-table">
							<div class="mui-table-cell mui-col-xs-10">
								<h4 class="mui-ellipsis">71558</h4>
								<h5>漫漫屋玻璃杯曲线</h5>
								<p class="mui-h6 mui-ellipsis">库存：1000</p>
							</div>
							<div class="mui-table-cell mui-col-xs-9 mui-text-right">
								<span class="mui-h5">收货次数:50</span>
							</div>
						</div>
					</a>
				</li>

				<li class="mui-table-view-cell">
					<a class="mui-navigate-right" href="../manage/goods_in_out.html">
						<div class="mui-table">
							<div class="mui-table-cell mui-col-xs-10">
								<h4 class="mui-ellipsis">71389</h4>
								<h5>漫漫屋子弹头玻璃水瓶</h5>
								<p class="mui-h6 mui-ellipsis">库存：10000</p>
							</div>
							<div class="mui-table-cell mui-col-xs-9 mui-text-right">
								<span class="mui-h5">收货次数:150</span>
							</div>
						</div>
					</a>
				</li>

				<li class="mui-table-view-cell">
					<a class="mui-navigate-right" href="../manage/goods_in_out.html">
						<div class="mui-table">
							<div class="mui-table-cell mui-col-xs-10">
								<h4 class="mui-ellipsis">40212</h4>
								<h5>漫漫屋耐高温玻璃花茶壶子弹头玻璃水瓶</h5>
								<p class="mui-h6 mui-ellipsis">库存：1000000</p>
							</div>
							<div class="mui-table-cell mui-col-xs-9 mui-text-right">
								<span class="mui-h5">收货次数:1500</span>
							</div>
						</div>
					</a>
				</li>

			</ul>

		</div>
		<!-- ---------------右上角弹出菜单---------------------------->
		<div id="TopPopover" class="mui-popover">
			<div class="mui-popover-arrow"></div>
			<div class="mui-scroll-wrapper">
				<div class="mui-scroll">
					<ul class="mui-table-view">
						<li class="mui-table-view-cell">
							<a href="../partners/add_partner.html">添加合作伙伴</a>
						</li>
						<li class="mui-table-view-cell"><a href="#">Item2</a>
						</li>
						<li class="mui-table-view-cell"><a href="#">Item3</a>
						</li>
						<li class="mui-table-view-cell"><a href="#">Item4</a>
						</li>
						<li class="mui-table-view-cell"><a href="#">Item5</a>
						</li>
						<li class="mui-table-view-cell"><a href="#">Item6</a>
						</li>
						<li class="mui-table-view-cell"><a href="#">Item7</a>
						</li>
						<li class="mui-table-view-cell"><a href="#">Item8</a>
						</li>
						<li class="mui-table-view-cell"><a href="#">Item9</a>
						</li>
						<li class="mui-table-view-cell"><a href="#">Item10</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<!-- ---------------右上角弹出菜单---------------------------->
	</body>
	<script>
		var aniShow = "pop-in";
		 //只有ios支持的功能需要在Android平台隐藏；
		if (mui.os.android) {
			var list = document.querySelectorAll('.ios-only');
			if (list) {
				for (var i = 0; i < list.length; i++) {
					list[i].style.display = 'none';
				}
			}
			//Android平台暂时使用slide-in-right动画
			aniShow = "slide-in-right"
		}
		var titleName = "货物";
		mui('#goodsListDiv').on('tap', 'a', function() {
			var id = this.getAttribute('href');
			var href = this.href;
			//console.log("id is "+id+"\n href is "+href);
			mui.openWindow({
				id: id,
				url: href,
				show: {
					aniShow: aniShow
				},
				waiting: {
					autoShow: true, //自动显示等待框，默认为true
					title: '正在加载...', //等待对话框上显示的提示内容
				},
				extras: {
					titleName: titleName
				}
			});
		});
		 ///////////////////////子页面在popover菜单显示或隐藏时发送消息给主页面，popover的显示状态。
		var main = null;
		mui.plusReady(function() {
			main = plus.webview.currentWebview().opener();
		});
		mui('.mui-scroll-wrapper').scroll();
		mui('body').on('shown', '.mui-popover', function(e) {
			//console.log('shown', e.detail.id);//detail为当前popover元素
			//mui.fire(main, "popoverOpenOrNot");
			mui.fire(main, "popoverOpenOrNot", {
				page: "tabGoods.html",
				type: "show"
			});
		});
		mui('body').on('hidden', '.mui-popover', function(e) {
			//console.log('hidden', e.detail.id);//detail为当前popover元素
			mui.fire(main, "popoverOpenOrNot", {
				page: "tabGoods.html",
				type: "hidden"
			});
		});
		mui("#TopPopover").on('tap', 'a', function() {
			//console.log(this.innerText);
			var id = this.getAttribute('href');
			mui.openWindow({
				id: id,
				url: this.href,
				show: {
					aniShow: aniShow
				},
				styles: {
					popGesture: "close"
				},
				waiting: {
					autoShow: true, //自动显示等待框，默认为true
					title: '正在加载...', //等待对话框上显示的提示内容
				}
			});
			//传入toggle参数，用户也无需关心当前是显示还是隐藏状态，mui会自动识别处理；
			mui('.mui-popover').popover('toggle');
		});
		 ///////////////////////popover菜单的事件处理函数
		 ///////////////////////子页面在popover菜单显示或隐藏时发送消息给主页面，popover的显示状态。
	</script>

</html>